(THU.CST) os is loading ...

Special kernel symbols:
  entry  0xc0100036 (phys)
  etext  0xc0115a39 (phys)
  edata  0xc0154000 (phys)
  end    0xc0158364 (phys)
Kernel executable memory footprint: 353KB
ebp:0xc0150f38   eip:0xc0100c98 arg :0xc010033c 0xffff6ad9 0xc0150f68 0xc01000e9
    kern/debug/kdebug.c:351: print_stackframe+22
ebp:0xc0150f48   eip:0xc0100f8c arg :0x00000000 0x00000000 0x00000000 0xc0100393
    kern/debug/kmonitor.c:129: mon_backtrace+10
ebp:0xc0150f68   eip:0xc01000e9 arg :0x00000000 0xc0150f90 0xffff0000 0xc0150f94
    kern/init/init.c:61: grade_backtrace2+33
ebp:0xc0150f88   eip:0xc0100113 arg :0x00000000 0xffff0000 0xc0150fb4 0x0000002a
    kern/init/init.c:66: grade_backtrace1+38
ebp:0xc0150fa8   eip:0xc0100132 arg :0x00000000 0xc0100036 0xffff0000 0x0000001d
    kern/init/init.c:71: grade_backtrace0+23
ebp:0xc0150fc8   eip:0xc0100158 arg :0xc0115a5c 0xc0115a40 0x00004364 0x00000000
    kern/init/init.c:76: grade_backtrace+34
ebp:0xc0150ff8   eip:0xc010008b arg :0xc0115c54 0xc0115c5c 0xc0100f14 0xc0115c7b
    kern/init/init.c:34: kern_init+84
memory management: default_pmm_manager
e820map:
  memory: 0009fc00, [00000000, 0009fbff], type = 1.
  memory: 00000400, [0009fc00, 0009ffff], type = 2.
  memory: 00010000, [000f0000, 000fffff], type = 2.
  memory: 07ee0000, [00100000, 07fdffff], type = 1.
  memory: 00020000, [07fe0000, 07ffffff], type = 2.
  memory: 00040000, [fffc0000, ffffffff], type = 2.
check_alloc_page() succeeded!
check_pgdir() succeeded!
check_boot_pgdir() succeeded!
-------------------- BEGIN --------------------
PDE(0e0) c0000000-f8000000 38000000 urw
  |-- PTE(38000) c0000000-f8000000 38000000 -rw
PDE(001) fac00000-fb000000 00400000 -rw
  |-- PTE(000e0) faf00000-fafe0000 000e0000 urw
  |-- PTE(00001) fafeb000-fafec000 00001000 -rw
--------------------- END ---------------------
use SLOB allocator
kmalloc_init() succeeded!
check_vma_struct() succeeded!
page fault at 0x00000100: K/W [no page found].
check_pgfault() succeeded!
check_vmm() succeeded.
sched class: stride_scheduler
ide 0:      10000(sectors), 'QEMU HARDDISK'.
ide 1:     262144(sectors), 'QEMU HARDDISK'.
ide 2:     262144(sectors), 'QEMU HARDDISK'.
SWAP: manager = fifo swap manager
BEGIN check_swap: count 1, total 31907
setup Page Table for vaddr 0X1000, so alloc a page
setup Page Table vaddr 0~4MB OVER!
set up init env for check_swap begin!
page fault at 0x00001000: K/W [no page found].
page fault at 0x00002000: K/W [no page found].
page fault at 0x00003000: K/W [no page found].
page fault at 0x00004000: K/W [no page found].
set up init env for check_swap over!
write Virt Page c in fifo_check_swap
write Virt Page a in fifo_check_swap
write Virt Page d in fifo_check_swap
write Virt Page b in fifo_check_swap
write Virt Page e in fifo_check_swap
page fault at 0x00005000: K/W [no page found].
swap_out: i 0, store page in vaddr 0x1000 to disk swap entry 2
write Virt Page b in fifo_check_swap
write Virt Page a in fifo_check_swap
page fault at 0x00001000: K/W [no page found].
swap_out: i 0, store page in vaddr 0x2000 to disk swap entry 3
swap_in: load disk swap entry 2 with swap_page in vadr 0x1000
write Virt Page b in fifo_check_swap
page fault at 0x00002000: K/W [no page found].
swap_out: i 0, store page in vaddr 0x3000 to disk swap entry 4
swap_in: load disk swap entry 3 with swap_page in vadr 0x2000
write Virt Page c in fifo_check_swap
page fault at 0x00003000: K/W [no page found].
swap_out: i 0, store page in vaddr 0x4000 to disk swap entry 5
swap_in: load disk swap entry 4 with swap_page in vadr 0x3000
write Virt Page d in fifo_check_swap
page fault at 0x00004000: K/W [no page found].
swap_out: i 0, store page in vaddr 0x5000 to disk swap entry 6
swap_in: load disk swap entry 5 with swap_page in vadr 0x4000
write Virt Page e in fifo_check_swap
page fault at 0x00005000: K/W [no page found].
swap_out: i 0, store page in vaddr 0x1000 to disk swap entry 2
swap_in: load disk swap entry 6 with swap_page in vadr 0x5000
write Virt Page a in fifo_check_swap
page fault at 0x00001000: K/R [no page found].
swap_out: i 0, store page in vaddr 0x2000 to disk swap entry 3
swap_in: load disk swap entry 2 with swap_page in vadr 0x1000
count is 0, total is 5
check_swap() succeeded!
sfs: mount: 'simple file system' (275/32493/32768)
vfs: mount disk0.
++ setup timer interrupts
I am No.4 philosopher_condvar
Iter 1, No.4 philosopher_condvar is thinking
I am No.3 philosopher_condvar
Iter 1, No.3 philosopher_condvar is thinking
I am No.2 philosopher_condvar
Iter 1, No.2 philosopher_condvar is thinking
I am No.1 philosopher_condvar
Iter 1, No.1 philosopher_condvar is thinking
I am No.0 philosopher_condvar
Iter 1, No.0 philosopher_condvar is thinking
I am No.4 philosopher_sema
Iter 1, No.4 philosopher_sema is thinking
I am No.3 philosopher_sema
Iter 1, No.3 philosopher_sema is thinking
I am No.2 philosopher_sema
Iter 1, No.2 philosopher_sema is thinking
I am No.1 philosopher_sema
Iter 1, No.1 philosopher_sema is thinking
I am No.0 philosopher_sema
Iter 1, No.0 philosopher_sema is thinking
kernel_execve: pid = 2, name = "matrix".
fork ok.
pid 13 is running (1000 times)!.
pid 13 done!.
pid 15 is running (1100 times)!.
Iter 1, No.0 philosopher_sema is eating
Iter 1, No.2 philosopher_sema is eating
phi_test_condvar: state_condvar[0] will eating
phi_test_condvar: signal self_cv[0] 
cond_signal begin: cvp c03389e0, cvp->count 0, cvp->owner->next_count 0
cond_signal end: cvp c03389e0, cvp->count 0, cvp->owner->next_count 0
Iter 1, No.0 philosopher_condvar is eating
phi_take_forks_condvar: 1 didn't get fork and will wait
cond_wait begin:  cvp c03389f4, cvp->count 0, cvp->owner->next_count 0
phi_test_condvar: state_condvar[2] will eating
phi_test_condvar: signal self_cv[2] 
cond_signal begin: cvp c0338a08, cvp->count 0, cvp->owner->next_count 0
cond_signal end: cvp c0338a08, cvp->count 0, cvp->owner->next_count 0
Iter 1, No.2 philosopher_condvar is eating
phi_take_forks_condvar: 3 didn't get fork and will wait
cond_wait begin:  cvp c0338a1c, cvp->count 0, cvp->owner->next_count 0
phi_take_forks_condvar: 4 didn't get fork and will wait
cond_wait begin:  cvp c0338a30, cvp->count 0, cvp->owner->next_count 0
pid 17 is running (4600 times)!.
pid 14 is running (1000 times)!.
pid 14 done!.
pid 19 is running (20600 times)!.
pid 21 is running (2600 times)!.
pid 23 is running (37100 times)!.
pid 16 is running (1900 times)!.
pid 25 is running (23500 times)!.
pid 27 is running (23500 times)!.
pid 29 is running (33400 times)!.
pid 18 is running (11000 times)!.
pid 31 is running (2600 times)!.
pid 32 is running (26600 times)!.
pid 20 is running (37100 times)!.
pid 22 is running (13100 times)!.
pid 24 is running (4600 times)!.
pid 26 is running (2600 times)!.
pid 28 is running (4600 times)!.
pid 30 is running (13100 times)!.
pid 33 is running (13100 times)!.
pid 31 done!.
Iter 2, No.2 philosopher_sema is thinking
Iter 1, No.3 philosopher_sema is eating
phi_test_condvar: state_condvar[3] will eating
phi_test_condvar: signal self_cv[3] 
cond_signal begin: cvp c0338a1c, cvp->count 1, cvp->owner->next_count 0
cond_wait end:  cvp c0338a1c, cvp->count 0, cvp->owner->next_count 1
Iter 1, No.3 philosopher_condvar is eating
pid 16 done!.
Iter 2, No.0 philosopher_sema is thinking
Iter 1, No.1 philosopher_sema is eating
pid 15 done!.
pid 21 done!.
cond_signal end: cvp c0338a1c, cvp->count 0, cvp->owner->next_count 0
Iter 2, No.2 philosopher_condvar is thinking
phi_test_condvar: state_condvar[1] will eating
phi_test_condvar: signal self_cv[1] 
cond_signal begin: cvp c03389f4, cvp->count 1, cvp->owner->next_count 0
cond_wait end:  cvp c03389f4, cvp->count 0, cvp->owner->next_count 1
Iter 1, No.1 philosopher_condvar is eating
Iter 2, No.1 philosopher_sema is thinking
Iter 2, No.0 philosopher_sema is eating
pid 26 done!.
Iter 2, No.3 philosopher_sema is thinking
cond_signal end: cvp c03389f4, cvp->count 0, cvp->owner->next_count 0
Iter 2, No.0 philosopher_condvar is thinking
phi_test_condvar: state_condvar[4] will eating
phi_test_condvar: signal self_cv[4] 
cond_signal begin: cvp c0338a30, cvp->count 1, cvp->owner->next_count 0
pid 17 done!.
pid 28 done!.
pid 24 done!.
Iter 2, No.2 philosopher_sema is eating
Iter 3, No.0 philosopher_sema is thinking
cond_wait end:  cvp c0338a30, cvp->count 0, cvp->owner->next_count 1
Iter 1, No.4 philosopher_condvar is eating
Iter 1, No.4 philosopher_sema is eating
Iter 3, No.2 philosopher_sema is thinking
Iter 2, No.1 philosopher_sema is eating
cond_signal end: cvp c0338a30, cvp->count 0, cvp->owner->next_count 0
Iter 2, No.3 philosopher_condvar is thinking
Iter 2, No.1 philosopher_condvar is thinking
phi_test_condvar: state_condvar[2] will eating
phi_test_condvar: signal self_cv[2] 
cond_signal begin: cvp c0338a08, cvp->count 0, cvp->owner->next_count 0
cond_signal end: cvp c0338a08, cvp->count 0, cvp->owner->next_count 0
Iter 2, No.2 philosopher_condvar is eating
Iter 2, No.4 philosopher_sema is thinking
Iter 2, No.3 philosopher_sema is eating
Iter 3, No.3 philosopher_sema is thinking
Iter 3, No.1 philosopher_sema is thinking
Iter 3, No.0 philosopher_sema is eating
Iter 3, No.2 philosopher_sema is eating
phi_take_forks_condvar: 0 didn't get fork and will wait
cond_wait begin:  cvp c03389e0, cvp->count 0, cvp->owner->next_count 0
phi_take_forks_condvar: 1 didn't get fork and will wait
cond_wait begin:  cvp c03389f4, cvp->count 0, cvp->owner->next_count 0
phi_test_condvar: state_condvar[0] will eating
phi_test_condvar: signal self_cv[0] 
cond_signal begin: cvp c03389e0, cvp->count 1, cvp->owner->next_count 0
cond_wait end:  cvp c03389e0, cvp->count 0, cvp->owner->next_count 1
Iter 2, No.0 philosopher_condvar is eating
Iter 4, No.2 philosopher_sema is thinking
Iter 4, No.0 philosopher_sema is thinking
cond_signal end: cvp c03389e0, cvp->count 0, cvp->owner->next_count 0
Iter 2, No.4 philosopher_condvar is thinking
Iter 3, No.2 philosopher_condvar is thinking
phi_test_condvar: state_condvar[3] will eating
phi_test_condvar: signal self_cv[3] 
cond_signal begin: cvp c0338a1c, cvp->count 0, cvp->owner->next_count 0
cond_signal end: cvp c0338a1c, cvp->count 0, cvp->owner->next_count 0
Iter 2, No.3 philosopher_condvar is eating
phi_test_condvar: state_condvar[1] will eating
phi_test_condvar: signal self_cv[1] 
cond_signal begin: cvp c03389f4, cvp->count 1, cvp->owner->next_count 0
cond_wait end:  cvp c03389f4, cvp->count 0, cvp->owner->next_count 1
Iter 2, No.1 philosopher_condvar is eating
Iter 3, No.1 philosopher_sema is eating
Iter 3, No.3 philosopher_sema is eating
cond_signal end: cvp c03389f4, cvp->count 0, cvp->owner->next_count 0
Iter 3, No.0 philosopher_condvar is thinking
Iter 3, No.1 philosopher_condvar is thinking
Iter 3, No.3 philosopher_condvar is thinking
phi_test_condvar: state_condvar[2] will eating
phi_test_condvar: signal self_cv[2] 
cond_signal begin: cvp c0338a08, cvp->count 0, cvp->owner->next_count 0
cond_signal end: cvp c0338a08, cvp->count 0, cvp->owner->next_count 0
Iter 3, No.2 philosopher_condvar is eating
Iter 4, No.3 philosopher_sema is thinking
Iter 4, No.1 philosopher_sema is thinking
Iter 4, No.2 philosopher_sema is eating
pid 18 done!.
phi_test_condvar: state_condvar[4] will eating
phi_test_condvar: signal self_cv[4] 
cond_signal begin: cvp c0338a30, cvp->count 0, cvp->owner->next_count 0
cond_signal end: cvp c0338a30, cvp->count 0, cvp->owner->next_count 0
Iter 2, No.4 philosopher_condvar is eating
Iter 2, No.4 philosopher_sema is eating
No.2 philosopher_sema quit
Iter 4, No.1 philosopher_sema is eating
pid 30 done!.
phi_take_forks_condvar: 0 didn't get fork and will wait
cond_wait begin:  cvp c03389e0, cvp->count 0, cvp->owner->next_count 0
Iter 4, No.2 philosopher_condvar is thinking
phi_test_condvar: state_condvar[1] will eating
phi_test_condvar: signal self_cv[1] 
cond_signal begin: cvp c03389f4, cvp->count 0, cvp->owner->next_count 0
cond_signal end: cvp c03389f4, cvp->count 0, cvp->owner->next_count 0
Iter 3, No.1 philosopher_condvar is eating
phi_take_forks_condvar: 3 didn't get fork and will wait
cond_wait begin:  cvp c0338a1c, cvp->count 0, cvp->owner->next_count 0
phi_test_condvar: state_condvar[3] will eating
phi_test_condvar: signal self_cv[3] 
cond_signal begin: cvp c0338a1c, cvp->count 1, cvp->owner->next_count 0
Iter 3, No.4 philosopher_sema is thinking
No.1 philosopher_sema quit
cond_wait end:  cvp c0338a1c, cvp->count 0, cvp->owner->next_count 1
Iter 3, No.3 philosopher_condvar is eating
Iter 4, No.3 philosopher_sema is eating
pid 22 done!.
pid 33 done!.
Iter 4, No.0 philosopher_sema is eating
cond_signal end: cvp c0338a1c, cvp->count 0, cvp->owner->next_count 0
Iter 3, No.4 philosopher_condvar is thinking
phi_take_forks_condvar: 2 didn't get fork and will wait
cond_wait begin:  cvp c0338a08, cvp->count 0, cvp->owner->next_count 0
phi_test_condvar: state_condvar[0] will eating
phi_test_condvar: signal self_cv[0] 
cond_signal begin: cvp c03389e0, cvp->count 1, cvp->owner->next_count 0
cond_wait end:  cvp c03389e0, cvp->count 0, cvp->owner->next_count 1
Iter 3, No.0 philosopher_condvar is eating
No.3 philosopher_sema quit
No.0 philosopher_sema quit
Iter 3, No.4 philosopher_sema is eating
cond_signal end: cvp c03389e0, cvp->count 0, cvp->owner->next_count 0
Iter 4, No.1 philosopher_condvar is thinking
phi_test_condvar: state_condvar[2] will eating
phi_test_condvar: signal self_cv[2] 
cond_signal begin: cvp c0338a08, cvp->count 1, cvp->owner->next_count 0
cond_wait end:  cvp c0338a08, cvp->count 0, cvp->owner->next_count 1
Iter 4, No.2 philosopher_condvar is eating
Iter 4, No.4 philosopher_sema is thinking
cond_signal end: cvp c0338a08, cvp->count 0, cvp->owner->next_count 0
Iter 4, No.3 philosopher_condvar is thinking
Iter 4, No.4 philosopher_sema is eating
Iter 4, No.0 philosopher_condvar is thinking
phi_test_condvar: state_condvar[4] will eating
phi_test_condvar: signal self_cv[4] 
cond_signal begin: cvp c0338a30, cvp->count 0, cvp->owner->next_count 0
cond_signal end: cvp c0338a30, cvp->count 0, cvp->owner->next_count 0
Iter 3, No.4 philosopher_condvar is eating
No.2 philosopher_condvar quit
phi_test_condvar: state_condvar[1] will eating
phi_test_condvar: signal self_cv[1] 
cond_signal begin: cvp c03389f4, cvp->count 0, cvp->owner->next_count 0
cond_signal end: cvp c03389f4, cvp->count 0, cvp->owner->next_count 0
Iter 4, No.1 philosopher_condvar is eating
No.4 philosopher_sema quit
phi_take_forks_condvar: 3 didn't get fork and will wait
cond_wait begin:  cvp c0338a1c, cvp->count 0, cvp->owner->next_count 0
No.1 philosopher_condvar quit
phi_take_forks_condvar: 0 didn't get fork and will wait
cond_wait begin:  cvp c03389e0, cvp->count 0, cvp->owner->next_count 0
phi_test_condvar: state_condvar[3] will eating
phi_test_condvar: signal self_cv[3] 
cond_signal begin: cvp c0338a1c, cvp->count 1, cvp->owner->next_count 0
cond_wait end:  cvp c0338a1c, cvp->count 0, cvp->owner->next_count 1
Iter 4, No.3 philosopher_condvar is eating
pid 19 done!.
cond_signal end: cvp c0338a1c, cvp->count 0, cvp->owner->next_count 0
phi_test_condvar: state_condvar[0] will eating
phi_test_condvar: signal self_cv[0] 
cond_signal begin: cvp c03389e0, cvp->count 1, cvp->owner->next_count 0
cond_wait end:  cvp c03389e0, cvp->count 0, cvp->owner->next_count 1
Iter 4, No.0 philosopher_condvar is eating
cond_signal end: cvp c03389e0, cvp->count 0, cvp->owner->next_count 0
Iter 4, No.4 philosopher_condvar is thinking
pid 27 done!.
No.3 philosopher_condvar quit
pid 25 done!.
No.0 philosopher_condvar quit
phi_test_condvar: state_condvar[4] will eating
phi_test_condvar: signal self_cv[4] 
cond_signal begin: cvp c0338a30, cvp->count 0, cvp->owner->next_count 0
cond_signal end: cvp c0338a30, cvp->count 0, cvp->owner->next_count 0
Iter 4, No.4 philosopher_condvar is eating
No.4 philosopher_condvar quit
pid 32 done!.
pid 29 done!.
pid 23 done!.
pid 20 done!.
matrix pass.
sfs: cleanup: 'simple file system' (275/32493/32768)
all user-mode processes have quit.
init check memory pass.
kernel panic at kern/process/proc.c:595:
    initproc exit.

stack trackback:
ebp:0xc033bf88   eip:0xc0100c98 arg :0xc0115b08 0xc033bfcc 0x00000253 0xc033bfb8
    kern/debug/kdebug.c:351: print_stackframe+22
ebp:0xc033bfb8   eip:0xc0100557 arg :0xc01183c4 0x00000253 0xc0118429 0xc015835c
    kern/debug/panic.c:27: __panic+103
ebp:0xc033bfe8   eip:0xc010cdd6 arg :0x00000000 0x00000000 0x00000000 0x00000010
    kern/process/proc.c:595: do_exit+91
Welcome to the kernel debug monitor!!
Type 'help' for a list of commands.
K> 